$animSpeed: calc(1s / 10); // 3 cells per second

.map {
  flex: 3;
  border: 1px solid blue;
  margin: 5px;
  display: grid;
  height: fit-content;
}

.map svg.tiles, .map svg.entities {
  grid-column: 1;
  grid-row: 1;
}

.map svg.entities {
  pointer-events: none;
}

.row {
  stroke: #7E7961;
  stroke-width: 0.1;
}

.cell.even.ground {
  fill: #8E865E;
}

.cell.odd.ground {
  fill: #968E67;
}

.cell.ground:hover polygon {
  fill:rgb(185,  18,  27);
}

.cell text {
  user-select: none;
  pointer-events: none;
}

.cell.empty {
  fill: #0000;
  stroke: #0000;
  stroke-width: 0;
}

.cell.wall {
  fill: #58533A;
  stroke: #CCCC;
  stroke-width: 0.1;
}

.entity-circle {
  stroke-width: 0.3;
}

.entity-circle.defender {
  fill: #00F3;
  stroke: #00F;
}

.entity-circle.attacker {
  fill: #F003;
  stroke: #F00;
}

.trap {
  fill: none;
  stroke: none;
  stroke-width: 0.2;
  stroke-linecap: round;
}

.trap polygon {
  opacity: 0.3;
}

.trap-cell path, .trap-image, .trap-cell:not(.trap-center) {
  pointer-events: none;
}

.trap-center {
  cursor: pointer;
}

.trap-highlighted {
  pointer-events: none;
}

.trap-highlighted .trap {
  stroke-width: 1;
}

.trap-highlighted .trap polygon {
  opacity: 0.6;
}

.trap.tricky polygon        { fill: rgb(185,  18,  27); } .trap.tricky path        { stroke: rgb(185,  18,  27); }
.trap.insidious polygon     { fill: rgb(150, 255, 150); } .trap.insidious path     { stroke: rgb(150, 255, 150); }
.trap.miry polygon          { fill: rgb( 64, 131, 164); } .trap.miry path          { stroke: rgb( 64, 131, 164); }
.trap.mass polygon          { fill: rgb( 90,  52,  28); } .trap.mass path          { stroke: rgb( 90,  52,  28); }
.trap.drift polygon         { fill: rgb(185,  18,  27); } .trap.drift path         { stroke: rgb(185,  18,  27); }
.trap.malevolent polygon    { fill: rgb( 90,  52,  28); } .trap.malevolent path    { stroke: rgb( 90,  52,  28); }
.trap.fragmentation polygon { fill: rgb(185,  18,  27); } .trap.fragmentation path { stroke: rgb(185,  18,  27); }
.trap.paralysing polygon    { fill: rgb( 49,  45, 134); } .trap.paralysing path    { stroke: rgb( 49,  45, 134); }
.trap.repelling polygon     { fill: rgb(150, 255, 150); } .trap.repelling path     { stroke: rgb(150, 255, 150); }
.trap.sickrat polygon       { fill: rgb( 64, 131, 164); } .trap.sickrat path       { stroke: rgb( 64, 131, 164); }
.trap.lethal polygon        { fill: rgb( 90,  52,  28); } .trap.lethal path        { stroke: rgb( 90,  52,  28); }
.trap.calamity polygon      { fill: rgb( 64, 131, 164); } .trap.calamity path      { stroke: rgb( 64, 131, 164); }
.trap.massgrave polygon     { fill: rgb( 49,  45, 134); } .trap.massgrave path     { stroke: rgb( 49,  45, 134); }
.trap.test-trap polygon     { fill: rgb(255, 255, 255); } .trap.test-trap path     { stroke: rgb(255, 255, 255); }

.entity-image {
  transition: x $animSpeed linear, y $animSpeed linear;
}

.entity-circle {
  transition: cx $animSpeed linear, cy $animSpeed linear;
}